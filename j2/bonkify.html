<html>
	<head>
		<title>Bonkify</title>
		<link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1/themes/base/jquery-ui.css" rel="stylesheet" />
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
		<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.0/jquery-ui.min.js"></script>
		<meta charset="utf-8" />
                <style>
		      article,
		      aside,
		      figure,
		      footer,
		      header,
		      hgroup,
		      menu,
		      nav,
		      section {
		        display: block;
		      }
		</style>
		<script>
			function readURL(input) {
				if (input.files && input.files[0]) {
					var reader = new FileReader();
					reader.onload = function (e) {
						$('#preview').attr('src', e.target.result).width(75).height(75);
					};

					reader.readAsDataURL(input.files[0]);
				}
			}

			function startProcess() {
					var formData = new FormData();
					formData.append('file', $('#file')[0].files[0]);
					$.ajax({
						type: "POST",
						url: "/process",
						data: formData,
						processData: false,
						contentType: false,
						success: function(data){
							$('#output').attr("src", "data:image/gif;base64," + data);
							console.log("SUCCESS");
						}
					});
			}
		</script>
	</head>
	<body>
		<h1>Bonkify</h1>
		<table style="table-layout:auto;border-collapse:collapse;" >
			<tr>
				<td style="border:1px solid grey;padding:15px;white-space:nowrap;">
					<form>
						<p style="font-size:20px;font-weight:bold">Select Image to Bonk</p>
						<input id="file" type='file' onchange="readURL(this);"/>
						<br />
						<br />
						<div style="border:1px solid black;width:75px;height:75px">
							<img id="preview" src="" />
						</div>
						<br />
						<input type="button" value="Submit" onclick="startProcess();" />
					</form>
				</td>
			</tr><tr>
				<td style="border:1px solid grey;padding:15px;white-space:nowrap;">
					<p style="font-size:20px;font-weight:bold;">Output</p>
					<div style="border:1px solid black;width:128px;height:128px">
						<img id="output" src="" />
					</div>
				</td>
			</tr>
		</table>
	</body>
</html>
